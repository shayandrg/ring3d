(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1979:(e,t,n)=>{Promise.resolve().then(n.bind(n,6518))},6518:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var o=n(5155),a=n(2115),r=n(7558),s=n(9957),i=n(3498),l=n(3784),c=n(8435),f=n(4688),u=n(3264),d=n(1949),p=n(2515);function h(e){let{preset:t="studio"}=e,n=(0,a.useRef)(null),{gl:r}=(0,d.C)();return(0,a.useEffect)(()=>{n.current&&(n.current.rotation.y=Math.PI/4),r.capabilities.getMaxAnisotropy=()=>1},[r]),(0,d.D)(e=>{n.current&&e.clock.elapsedTime%1<.01&&(n.current.rotation.y=Math.PI/4+.2*Math.sin(.05*e.clock.elapsedTime))}),(0,o.jsx)("group",{ref:n,children:(0,o.jsx)(p.OH,{preset:t,background:!1,resolution:256,blur:.5})})}let m="/ring3d";function x(){return(0,o.jsx)(s.E,{center:!0,children:(0,o.jsx)("div",{className:"text-center text-white bg-black/20 p-2 rounded",children:(0,o.jsx)("div",{children:"Loading Model..."})})})}function g(){let e=(0,a.useRef)(null),{scene:t}=(0,i.p)("".concat(m,"/ring.glb"));return(0,a.useEffect)(()=>{e.current&&(e.current.rotation.x=0,e.current.rotation.z=0,t.traverse(e=>{if(e instanceof u.eaF&&(e.castShadow=!0,e.receiveShadow=!0,e.name.toLowerCase().includes("diamond")||e.name.toLowerCase().includes("gem")||e.name.toLowerCase().includes("stone"))){console.log("Found diamond part:",e.name);let t=new u.uSd({color:new u.Q1f("#ffffff"),transparent:!0,opacity:.92,roughness:0,metalness:.25,envMapIntensity:3,clearcoat:1,clearcoatRoughness:0,reflectivity:1,ior:2.75,thickness:.2,transmission:.99,attenuationColor:new u.Q1f("#ffffff"),attenuationDistance:.2});if(Array.isArray(e.material))for(let n=0;n<e.material.length;n++)e.material[n]=t.clone();else e.material=t}}))},[t]),(0,d.D)((t,n)=>{e.current&&(e.current.rotation.y+=.2*n)}),(0,o.jsxs)("group",{ref:e,dispose:null,children:[(0,o.jsx)("primitive",{object:t,scale:2.5}),(0,o.jsx)(l.s,{count:50,scale:6,size:1.5,speed:.6,opacity:.3,color:"white"})]})}function w(){let[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(null);return((0,a.useEffect)(()=>{let e=setInterval(()=>{if(window.gc)try{window.gc()}catch(e){console.log("GC not available")}},6e4);return()=>clearInterval(e)},[]),e)?(0,o.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:(0,o.jsx)("div",{className:"text-xl text-red-600",children:"WebGL context lost"})}):(0,o.jsx)("div",{className:"h-screen w-full relative",children:(0,o.jsxs)(r.Hl,{ref:n,camera:{position:[0,0,5],fov:35},dpr:1,frameloop:"always",shadows:{enabled:!0,type:u.QP0},gl:{antialias:!1,alpha:!0,stencil:!1,depth:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1},onCreated:e=>{let{gl:n}=e;n.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),n.physicallyCorrectLights=!1,n.outputEncoding=3e3,n.toneMapping=0,n.domElement.addEventListener("webglcontextlost",e=>{e.preventDefault(),console.warn("WebGL context lost"),t(!0)}),n.domElement.addEventListener("webglcontextrestored",()=>{console.log("WebGL context restored"),t(!1)})},performance:{min:.5},style:{touchAction:"none"},children:[(0,o.jsx)("color",{attach:"background",args:["#f0f0f0"]}),(0,o.jsx)("ambientLight",{intensity:.6}),(0,o.jsx)("spotLight",{position:[10,10,10],angle:.25,penumbra:.5,intensity:1.5,castShadow:!0,"shadow-mapSize":[512,512],"shadow-bias":-1e-4}),(0,o.jsx)("pointLight",{position:[-10,5,-10],intensity:.8,color:"#ffffff"}),(0,o.jsx)("pointLight",{position:[5,-5,5],intensity:.8,color:"#ffffff"}),(0,o.jsx)("pointLight",{position:[0,10,0],intensity:1,color:"#ffffff"}),(0,o.jsx)(h,{preset:"studio"}),(0,o.jsx)(c._,{position:[0,-1.4,0],opacity:.6,scale:10,blur:3,far:3,resolution:256}),(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(x,{}),children:(0,o.jsx)(g,{})}),(0,o.jsx)(f.N,{enablePan:!1,enableZoom:!0,minDistance:15,maxDistance:25,minPolarAngle:Math.PI/3,maxPolarAngle:Math.PI/2,autoRotate:!0,autoRotateSpeed:.5,makeDefault:!0})]})})}try{i.p.preload("".concat(m,"/ring.glb"),!0)}catch(e){console.error("Error preloading model:",e)}function j(){return(0,o.jsx)("main",{className:"min-h-screen",children:(0,o.jsx)(w,{})})}}},e=>{e.O(0,[367,831,413,93,441,964,358],()=>e(e.s=1979)),_N_E=e.O()}]);